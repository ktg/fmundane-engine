{
  "id" : "layer1",

  "start": {
    "actions": [["greet", "fanoff"]],
    "event": "ready?"
  },

  "events": [{
    "id": "ready?",
    "subscription" : "/speech",
    "type": "speech",
    "rules": [{
        "rule": {
          "operator": "contains",
          "operand": ["yes"]
        },
        "actions": [
          ["turningonfan", "fanhot"],
          ["facescan"]
        ],
        "next": "asknames"
      },
      {
        "rule": {
          "operator": "contains",
          "operand": ["no"]
        },
        "actions": [
          ["askagain", "greet"]
        ],
        "next": "ready?"
      }
    ]
  },
  {
    "id": "asknames",
    "subscription" : "/speech",
    "type": "speech",
    "rules": [{
        "rule": {
          "operator": "any"
        },
        "actions": [
          ["sayhello"]
        ],
        "next": "wizard yes/no"
      }
    ]
  },
  {
    "id": "wizard yes/no",
    "subscription" : "/press",
    "type": "button",
    "data": ["yes", "no", "maybe"],
    "rules": [{
        "rule": {
          "operator": "equals",
          "operand": "yes"
        },
        "actions": [
          ["fanoff", "blindsdown"]
        ],
        "next": "thumbs"
      },
      {
        "rule": {
          "operator": "equals",
          "operand": "no"
        },
        "actions": [
          ["pinklights"]
        ],
        "next": "thumbs"
      }
    ]
  },
  {
    "id": "thumbs",
    "subscription" : "/gesture",
    "type": "gesture",
    "rules": [{
        "rule": {
          "operator": "equals",
          "operand": ["thumbsup"]
        },
        "actions": [
          ["fanoff", "blindsup"]
        ],
        "next": "wizard yes/no"
      },
      {
        "rule": {
          "operator": "equals",
          "operand": ["thumbsdown"]
        },
        "actions": [
          ["pinklights"]
        ],
        "next": "ready?"
      }
    ]
  }
]}
